"use strict";(self.webpackChunkadmin=self.webpackChunkadmin||[]).push([[650],{1650:(A,l,o)=>{o.r(l),o.d(l,{AuthModule:()=>P});var c=o(6814),m=o(9284),i=o(6223),d=o(9862),u=o(1896),t=o(5879),h=o(2425),p=o(5386),f=o(8672);const C=o(8975).N.baseUrl;let x=(()=>{class n{constructor(e){this.http=e}login(e){return this.http.post(`${C}auth/login`,e)}static#t=this.\u0275fac=function(s){return new(s||n)(t.LFG(d.eN))};static#n=this.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var M=o(2296),O=o(2032),a=o(9157);const y=[{path:"",component:(()=>{class n{constructor(e,s,r,g,Z,L){this.fb=e,this.toaster=s,this.router=r,this.tokenSrv=g,this.spinner=Z,this.loginSrv=L}ngOnInit(){this.createForm()}createForm(){this.loginForm=this.fb.group({email:["",[i.kI.required,i.kI.email]],password:["",[i.kI.required,i.kI.minLength(3),i.kI.maxLength(20)]],role:["admin"]})}login(){console.log(this.loginForm?.value),this.spinner.show(),this.loginSrv.login(this.loginForm.value).subscribe(e=>{console.log(e),this.tokenSrv.setToken(e.token),this.toaster.success("Success","Login Success"),this.router.navigate(["tasks"]),this.spinner.hide()},e=>{this.toaster.error("Error","Login Faild!"),this.spinner.hide()})}static#t=this.\u0275fac=function(s){return new(s||n)(t.Y36(i.qu),t.Y36(h._W),t.Y36(u.F0),t.Y36(p.B),t.Y36(f.t2),t.Y36(x))};static#n=this.\u0275cmp=t.Xpm({type:n,selectors:[["app-login"]],decls:23,vars:1,consts:[[1,"login","d-flex","justify-content-center","align-items-center","m-auto"],[1,"row"],[1,"col-md-12"],[1,"h-100","d-flex","align-items-center","justify-content-center","w-100"],[1,"box","w-75"],[3,"formGroup"],["appearance","outline",1,"w-100"],["matInput","","formControlName","email","placeholder","email"],["matInput","","placeholder","password","type","password","formControlName","password"],[1,"d-flex","justify-content-center"],["mat-raised-button","","color","warn",3,"click"]],template:function(s,r){1&s&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h2"),t._uU(6,"Login "),t.qZA(),t.TgZ(7,"form",5)(8,"mat-form-field",6)(9,"mat-label"),t._uU(10,"Email"),t.qZA(),t._UZ(11,"input",7),t.TgZ(12,"mat-error"),t._uU(13,"required"),t.qZA()(),t.TgZ(14,"mat-form-field",6)(15,"mat-label"),t._uU(16,"Password"),t.qZA(),t._UZ(17,"input",8),t.TgZ(18,"mat-error"),t._uU(19,"required"),t.qZA()()(),t.TgZ(20,"div",9)(21,"button",10),t.NdJ("click",function(){return r.login()}),t._uU(22,"Login"),t.qZA()()()()()()()),2&s&&(t.xp6(7),t.Q6J("formGroup",r.loginForm))},dependencies:[M.lW,O.Nt,a.KE,a.hX,a.TO,i._Y,i.Fj,i.JJ,i.JL,i.sg,i.u],styles:["*[_ngcontent-%COMP%]{font-family:cursive}.login[_ngcontent-%COMP%]{position:absolute;inset:0}.login[_ngcontent-%COMP%]   .overlay[_ngcontent-%COMP%]{background-color:#0009;position:absolute;inset:0;z-index:1}.login[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100vh}.login[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]{z-index:5;width:30%;padding:50px 20px;border:1px solid #ddd;border-radius:15px;box-shadow:0 2px 5px #ca25104d}.login[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#26f3d1}.login[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:2px 100px}"]})}return n})()}];let F=(()=>{class n{static#t=this.\u0275fac=function(s){return new(s||n)};static#n=this.\u0275mod=t.oAB({type:n});static#o=this.\u0275inj=t.cJS({imports:[c.ez,u.Bz.forChild(y)]})}return n})(),P=(()=>{class n{static#t=this.\u0275fac=function(s){return new(s||n)};static#n=this.\u0275mod=t.oAB({type:n});static#o=this.\u0275inj=t.cJS({imports:[m.q,F,i.u5,i.UX,d.JF,c.ez]})}return n})()}}]);